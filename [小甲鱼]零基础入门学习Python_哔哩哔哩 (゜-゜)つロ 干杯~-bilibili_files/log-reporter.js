window.webpackReporter=function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o=window.webpackJsonpwebpackReporter;window.webpackJsonpwebpackReporter=function(r,i){for(var s,a,c=0,f=[];c<r.length;c++)a=r[c],n[a]&&f.push.apply(f,n[a]),n[a]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(o&&o(r,i);f.length;)f.shift().call(null,t)};var r={},n={0:0};return t.e=function(e,o){if(0===n[e])return o.call(null,t);if(void 0!==n[e])n[e].push(o);else{n[e]=[o];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+({}[e]||e)+"."+{1:"d7a44",2:"0ab54",3:"c5dcb",4:"c42c9",5:"efe18"}[e]+".function.chunk.js",r.appendChild(i)}},t.m=e,t.c=r,t.p="//s1.hdslb.com/bfs/seed/log/report/",t(0)}([function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}var i=o(1),s=r(i),a=o(3),c=r(a),f=o(4),u=r(f),p=o(8),l=r(p),d=o(11),h=r(d),g=o(9),m=r(g);o(12);var v=function(){function e(t){n(this,e);var o=this;o.init(t)}return e.prototype.init=function(e){var t=this,r=e.sample,n=m["default"].identify();n&&(window.bsource=m["default"].identify(),m["default"].setCookie("bsource",window.bsource));var i=Math.random(),a=this.getSPM_id();return!(i>r)&&(e.divChangeTracker===!0&&o.e(1,function(e){var r=o(13),n=document.getElementById("prison"),i=r["default"];t.divTracker=new i(n)}),e.scrollTracker===!0&&o.e(2,function(r){var n=o(14),i=n["default"];t.scrollTracker=new i(window,a,e.scrollIgnoreHidden)}),e.errorTracker===!0&&o.e(3,function(r){var n=o(15),i=n["default"];if(t.errorTracker=new i(window),s["default"].setSupportTryCatch(!0,t.errorTracker),void 0!==e.ignoredErrorPattern)if(e.ignoredErrorPattern instanceof Array){for(var a,c=[],f=0;f<e.ignoredErrorPattern.length;f++){var u=String(e.ignoredErrorPattern[f]);c.push(u)}(a=t.errorTracker).setIgnoredPattern.apply(a,c)}else{var p=String(e.ignoredErrorPattern);t.errorTracker.setIgnoredPattern(p)}}),e.resourceTracker===!0&&o.e(4,function(e){var r=o(16),n=r["default"];t.resourceTracker=new n(window)}),e.supportH5===!0&&o.e(5,function(e){var r=o(17),n=r["default"];t.h5Supporter=new n(window),s["default"].setSupportH5(!0,t.h5Supporter)}),e.searchPage===!0&&s["default"].setSearchPage(!0),this.loadTracker=new c["default"](window),e.cancelEventTracker||(this.eventTracker=new u["default"](a)),this.pvTracker=new l["default"],this.startTimer(),void window.addEventListener("beforeunload",function(e){s["default"].sendUnloadEvent()}))},e.prototype.startTimer=function(){this.timer=new h["default"](1e3),this.timer.register(s["default"],s["default"].checkTools,1)},e.prototype.getSPM_id=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_prefix"===e[t].getAttribute("name"))return e[t].getAttribute("content");return"333.334"},e.prototype.setSPM_id=function(e){this.scrollTracker&&this.scrollTracker.setSpmPrefix(e),this.eventTracker&&this.eventTracker.setSpmPrefix(e),s["default"].setSPM_id(e)},e.prototype.reportWithAdditionalParam=function(e){s["default"].reportWithAdditionalParam(e)},e.prototype.sendPV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pvTracker.sendPV(e,t)},e.prototype.forceCommit=function(){s["default"].forceFlush()},e.prototype.setSpeicalMsg=function(e,t){s["default"].supportH5===!0&&this.h5Supporter.setSpeicalMsg(e,t)},e}(),w=function(){function e(){n(this,e),this.loadTracker=new c["default"](window),this.pvTracker=new l["default"],this.timer=new h["default"](1e3),this.timer.register(s["default"],s["default"].checkTools,1)}return e.prototype.sendPV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pvTracker.sendPV(e,t)},e}();!function(e){for(var t=document.getElementsByTagName("meta"),o=!1,r=0;r<t.length;r++)"spm_prefix"===t[r].getAttribute("name")&&(o=!0);if(!e.reportObserver)if(window.reportConfig&&o){if(window.reportConfig.msgObjects)for(var n=window.reportConfig.msgObjects.split("|"),i=n,a=Array.isArray(i),c=0,i=a?i:i[Symbol.iterator]();;){var f;if(a){if(c>=i.length)break;f=i[c++]}else{if(c=i.next(),c.done)break;f=c.value}var u=f;window[u]&&s["default"].transporter(window[u])}var p=new v(window.reportConfig);e.reportObserver=p}else{var p=new w;e.reportObserver=p}}(window)},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o(2),a=r(s),c=function(){function e(){n(this,e),this.currentPool=[],this.tool=[],this.requestLimit=6,this.originTools=[],this.baseURL="//data.bilibili.com/log/web",this.errorReportURL="//dataflow.biliapi.com/log/system",this.spmPrefix=this.getSPM_id(),this.ptype=this.browserCheck(),this.supportH5=!1,this.isSearchPage=!1,this.initLoginIdConfig(),this.updateConfig()}return e.prototype.initLoginIdConfig=function(){this.loginIdConfig={appear:"000016",click:"000017",pv:"000014",performance:"000015",h5_selfDef:"000080",errorLog:"000808"}},e.prototype.updateConfig=function(){var e=this.loginIdConfig,t=(new Date).getTime().toString(),o=encodeURIComponent(window.location.href),r=window.innerWidth||document.body.clientWidth,n=window.innerHeight||document.body.clientHeight;this.msgConfig={common:{loginId:"",url:o,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:this.getCookie("fts")?this.getCookie("fts"):"",browser_resolution:r+"x"+n,ptype:this.ptype},appear:{loginId:e.appear+t,url:o,spm_id:this.spmPrefix+".0.0",timestamp:t,browser_resolution:r+"x"+n,ptype:this.ptype,msg:""},click:{loginId:e.click+t,url:o,spm_id:this.spmPrefix+".0.0",target_url:"",timestamp:t,screenx:"",screeny:"",browser_resolution:r+"x"+n,ptype:this.ptype,msg:"",abtest:window.abtest?window.abtest:JSON.stringify({})},pv:{loginId:e.pv+t,url:o,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:this.getCookie("fts")?this.getCookie("fts"):"",browser_resolution:r+"x"+n,ptype:this.ptype,msg:"",abtest:window.abtest?window.abtest:JSON.stringify({})},performance:{loginId:e.performance+t,url:o,spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",browser_resolution:r+"x"+n,navigationStart:"",unloadEventStart:"",unloadEventEnd:"",redirectStart:"",redirectEnd:"",fetchStart:"",domainLookupStart:"",domainLookupEnd:"",connectStart:"",connectEnd:"",secureConnectionStart:"",requestStart:"",responseStart:"",responseEnd:"",domLoading:"",domInteractive:"",domContentLoadedEventStart:"",domContentLoadedEventEnd:"",domComplete:"",loadEventStart:"",loadEventEnd:"",firstscreenfinish:"",ptype:this.ptype,msg:""},h5_selfDef:{loginId:e.h5_selfDef+t,url:o,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix+".0.0",timestamp:t,fts:this.getCookie("fts")?this.getCookie("fts"):"",browser_resolution:r+"x"+n,ptype:this.ptype,avid:0,bsource:"default",args:void 0,abtest:1},errorLog:{loginId:e.errorLog+t,msg:""}}},e.prototype.setSupportH5=function(e,t){this.supportH5=e,this.h5reporter=t},e.prototype.setSupportTryCatch=function(e,t){this.supportTryCatch=e,this.errorReporter=t},e.prototype.cloneObj=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t,o=e.constructor===Array?[]:{};if("object"===("undefined"==typeof e?"undefined":i(e))){if(window.JSON)t=JSON.stringify(e),o=JSON.parse(t);else for(var r in e)o[r]="object"===i(e[r])?cloneObj(e[r]):e[r];return o}}),e.prototype.setSearchPage=function(e){this.isSearchPage=e,this.isSearchPage&&(this.secondMsgConfig=this.cloneObj(this.msgConfig),this.secondMsgConfig.click.loginId="000045"+(new Date).getTime(),this.secondMsgConfig.pv.loginId="000043"+(new Date).getTime(),this.secondMsgConfig.performance.loginId="000044"+(new Date).getTime(),delete this.secondMsgConfig.pv.abtest,delete this.secondMsgConfig.click.abtest,delete this.secondMsgConfig.errorLog,delete this.secondMsgConfig.appear,delete this.secondMsgConfig.h5_selfDef)},e.prototype.browserCheck=function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),o="iphone os"==e.match(/iphone os/i),r="midp"==e.match(/midp/i),n="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),i="ucweb"==e.match(/ucweb/i),s="android"==e.match(/android/i),a="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);return t||o||r||n||i||s||a||c?2:1},e.prototype.getSPM_id=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_prefix"==e[t].getAttribute("name"))return e[t].getAttribute("content");return""},e.prototype.setSPM_id=function(e){this.spmPrefix=e,this.updateConfig()},e.prototype.getABTest=function(){return window.abtest?window.abtest:JSON.stringify({})},e.prototype.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(t!=-1){t=t+e.length+1;var o=document.cookie.indexOf(";",t);return o==-1&&(o=document.cookie.length),unescape(document.cookie.substring(t,o))}}return""},e.prototype.setCookie=function(e,t,o){var r=new Date;return r.setDate(r.getDate()+o),document.cookie=e+"="+escape(t)+(null==o?"":";expires="+r.toGMTString()),t},e.prototype.transporter=function(e){this.originTools.push(e)},e.prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.prototype.sendUnloadEvent=function(){var e={};e.screenx=0,e.screeny=0,e.timestamp=Date.parse(new Date),e.spm_id=this.spmPrefix+".selfDef.unload",e.target_url="";var t={type:"click",obj:e};this.receiveMsg(t)},e.prototype.checkTools=function(){if(this.originTools.length>0)for(var e=this.originTools,t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(o>=e.length)break;r=e[o++]}else{if(o=e.next(),o.done)break;r=o.value}var n=r;for(var i in n){var s={};if(s.screenx=0,s.screeny=0,s.timestamp=Date.parse(new Date),s.url=encodeURIComponent(window.location.href),!this.supportH5||"click"!==i&&"pv"!==i)if(this.supportTryCatch&&"tryCatchError"===i)this.errorReporter.tryCatchError(n[i]),delete n[i];else{s.spm_id=this.spmPrefix+".selfDef."+i,s.target_url="";var a={};a.event=i,a.value=n[i];var c=JSON.stringify(a);s.msg=c.replace(/"/g,"%22"),delete n[i];var f={type:"click",obj:s};this.receiveMsg(f)}else"click"===i?s.spm_id=this.spmPrefix+".click."+n[i]:"pv"===i&&(s.spm_id=this.spmPrefix+".pv."+n[i]),delete n[i],this.h5reporter.send(s)}}if(0!==this.tool.length){var u=this.tool.length;u>this.requestLimit?(this.currentPool=this.tool.splice(0,this.requestLimit),this.sendGroupMsg()):u>0&&(this.currentPool=this.tool.splice(0,u),this.sendGroupMsg())}},e.prototype.forceFlush=function(){this.checkTools()},e.prototype.reportWithAdditionalParam=function(e){var t=this.assignObject(this.msgConfig.common,e);this.sendMsg(t)},e.prototype.receiveMsg=function(e){var t=e.type;e=e.obj;var o=this.assignObject(this.msgConfig[t],e);if(o.abtest&&(o.abtest=this.getABTest()),this.sendMsg(o),this.secondMsgConfig&&this.secondMsgConfig[t]){var r=this.assignObject(this.secondMsgConfig[t],e);this.sendMsg(r)}},e.prototype.assignObject=function(){for(var e={},t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];for(var n in o[0])e[n]=o[0][n];for(var i=1;i<o.length;i++){var s=o[i];for(var n in s)e[n]=s[n]}return e},e.prototype.receiveGroupMsg=function(e){var t=e.type;e=e.obj;var o=this.assignObject(this.msgConfig[t],e);if(this.tool.push(o),this.secondMsgConfig&&this.secondMsgConfig[t]){var r=this.assignObject(this.secondMsgConfig[t],e);this.tool.push(r)}},e.prototype.sendMsg=function(e){var t="";for(var o in e)if("toJSON"!==o||"function"!=typeof e[o]){var r="function"==typeof e[o]?e[o].call(this):e[o];t+=r+"|"}t=t.substring(0,t.length-1),t=t.replace(/\|/,""),0===e.loginId.indexOf(this.loginIdConfig.click)||0===e.loginId.indexOf(this.loginIdConfig.h5_selfDef)?a["default"].useBeacon(this.baseURL,t):0===e.loginId.indexOf(this.loginIdConfig.errorLog)?a["default"].sendPostRequest(this.errorReportURL,t):a["default"].sendGetRequest(this.baseURL,t)},e.prototype.sendGroupMsg=function(){if(0!==this.currentPool.length)for(var e=this.currentPool,t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(o>=e.length)break;r=e[o++]}else{if(o=e.next(),o.done)break;r=o.value}var n=r,i="";for(var s in n)if("toJSON"!==s||"function"!=typeof n[s]){var c="function"==typeof n[s]?n[s].call(this):n[s];i+=c+"|"}i=i.substring(0,i.length-1),i=i.replace(/\|/,""),0===n.loginId.indexOf(this.loginIdConfig.click)||0===n.loginId.indexOf(this.loginIdConfig.h5_selfDef)?a["default"].useBeacon(this.baseURL,i):0===n.loginId.indexOf(this.loginIdConfig.errorLog)?a["default"].sendPostRequest(this.errorReportURL,i):a["default"].sendGetRequest(this.baseURL,i)}},e}();t["default"]=new c},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(){o(this,e)}return e.prototype.contructor=function(){this.ie8=this.isIE(8),this.ie9=this.isIE(9)},e.prototype.isIE=function(e){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},e.prototype.useBeacon=function(e,t,o){if(navigator.sendBeacon){var r="?"+t;navigator.sendBeacon(e+r)}else this.sendGetRequest(e,t,o)},e.prototype.postDataFormat=function(e){if("object"===("undefined"==typeof e?"undefined":r(e))){var t=[],o=0;for(var n in e)t[o]=encodeURIComponent(n)+"="+encodeURIComponent(e[n]),o++;return t.join("&")}},e.prototype.sendPostRequest=function(e,t){var o=new XMLHttpRequest;o.open("post",e,!0),o.onreadystatechange=function(e){if(4===this.readyState&&200===this.status){this.responseText}},o.ontimeout=function(e){},o.onerror=function(e){},o.send(t)},e.prototype.sendGetRequest=function(e,t,o){var r="?"+t;if(window.XDomainRequest){var n=new XDomainRequest;n&&(n.onload=function(){o&&"function"==typeof o&&o.call(window)},n.ontimeout=function(){},n.onerror=function(e){},n.open("get",e+r),n.send())}else{var i=new XMLHttpRequest;i.open("GET",e+r,!0),i.withCredentials=!0,i.onreadystatechange=function(e){if(4==this.readyState&&200==this.status){this.responseText;o&&"function"==typeof o&&o.call(window)}},i.ontimeout=function(e){},i.onerror=function(e){},i.send()}},e}();t["default"]=new n},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var i=o(1),s=r(i),a=function(){function e(t,o){n(this,e),this.win=t,this.onloaded(this.showRawPerformance)}return e.prototype.assignObject=function(e,t){var o={};for(var r in e)o[r]=e[r];for(var r in t)o[r]=t[r];return o},e.prototype.onloaded=function(e){var t=this;if(e.call(t),"function"==typeof window.onload){var o=window.onload;window.onload=function(){setTimeout(function(){e.call(t)},1e3),o.call(t.win)}}else window.onload=function(){setTimeout(function(){e.call(t)},1e3)}},e.prototype.showPerformance=function(){if(this.win.performance&&this.win.performance.timing){var e=this.win.performance.timing,t={};t.dns=e.domainLookupEnd-e.domainLookupStart,t.tcp=e.connectEnd-e.connectStart,t.responseTime=e.responseEnd-e.responseStart,t.domAnalysis=e.domComplete-e.domInteractive,t.whitePageTime=e.responseStart-e.navigationStart,t.domReady=e.domContentLoadedEventEnd-e.navigationStart,t.allLoadTime=e.loadEventStart-e.navigationStart,this.todo("performance",JSON.stringify(t))}},e.prototype.showRawPerformance=function(){if(this.win.performance&&this.win.performance.timing&&this.win.performance.timing.domComplete>0){var e=this.win.performance.timing;this.todo("performance",e)}},e.prototype.todo=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(t[0],t[1]),n=this.assignObject({},r),i={type:"performance",obj:n};s["default"].receiveGroupMsg(i)},e}();t["default"]=a},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var i=o(1),s=r(i),a=o(5),c=function(){function e(t){n(this,e),this.legalContainer=["report-wrap-module"],this.legalList={click:!0,mouseover:!1},this.spmPrefix=t+".";for(var o in this.legalList)this.legalList.hasOwnProperty(o)&&this.legalList[o]===!0&&this.anotherListener(o)}return e.prototype.setSpmPrefix=function(e){this.spmPrefix=e+"."},e.prototype.checkContainer=function(e){if(!e||"string"!=typeof e)return!0;for(var t=0;t<this.legalContainer.length;t++)if(e.indexOf(this.legalContainer[t])>=0)return!1;return!0},e.prototype.anotherListener=function(e){var t=window.document;t.addEventListener?t.addEventListener(e,this.eventCB(e),!1):t.attachEvent("on"+e,this.eventCB(e))},e.prototype.set_param=function(e,t,o){var r="";e.indexOf("#")>=0&&(r=e.split("#")[1],e=e.split("#")[0]);var n=e.split("?")[1],i=e.split("?")[0],s=new RegExp("(^|&)("+t+")=[^&]*");return s.test(n)?(n=n.replace(s,"$1$2="+o),i+"?"+n+(""===r?"":"#"+r)):""===n||void 0===n?i+"?"+t+"="+o+(""===r?"":"#"+r):i+"?"+n+"&"+t+"="+o+(""===r?"":"#"+r)},e.prototype.eventCB=function(e){var t=this;return function(o){var r;if(!o)var o=window.event;o.target?r=o.target:o.srcElement&&(r=o.srcElement),3==r.nodeType&&(r=r.parentNode);for(var n,i=r,s=!1,c=null,f=null;i.parentNode&&t.checkContainer(i.className)===!0;){var u=i;"A"!==u.tagName&&"a"!==u.tagName||s||(s=!0,c=u,n=encodeURIComponent(u.getAttribute("href")),"_blank"===u.getAttribute("target")&&(f="blank")),i=i.parentNode}if(9===i.nodeType||null===i.parentNode&&t.checkContainer(i.className)===!0||!s);else{for(var p=-1,l=i.getElementsByTagName("a"),d=0;d<l.length;d++)if(l[d].isEqualNode&&l[d].isEqualNode(c)){p=d+1;break}var h=t.spmPrefix+(null===i.id?"navigationbar":""===i.id?1e3:i.id)+"."+p;t.todo(e,r.id,n,o.screenX,o.screenY,h);var g=decodeURIComponent(n),m=new a(g);if(i.id&&"null"!==g&&m.hostname&&0!==g.indexOf("#")&&location.href!==m.href){var v=t.set_param(g,"spm_id_from",h);c.setAttribute("href",v)}}}},e.prototype.todo=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(t[0],t[1]),n=t[2],i=t[3],a=t[4],c=t[5],f={},u={};f.screenx=i,f.screeny=a,f.timestamp=Date.parse(new Date),f.spm_id=c,f.target_url=n,u.id=r,f.msg=JSON.stringify(u);var p={type:"click",obj:f};s["default"].receiveMsg(p)},e}();t["default"]=c},function(e,t,o){(function(t){"use strict";function r(e){e=e||t.location||{};var o,r={},n="undefined"==typeof e?"undefined":f(e);if("blob:"===e.protocol)r=new s(unescape(e.pathname),{});else if("string"===n){r=new s(e,{});for(o in g)delete r[o]}else if("object"===n){for(o in e)o in g||(r[o]=e[o]);void 0===r.slashes&&(r.slashes=d.test(e.href))}return r}function n(e){var t=l.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function i(e,t){for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,n=o[r-1],i=!1,s=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),s++):s&&(0===r&&(i=!0),o.splice(r,1),s--);return i&&o.unshift(""),"."!==n&&".."!==n||o.push(""),o.join("/")}function s(e,t,o){if(!(this instanceof s))return new s(e,t,o);var a,c,l,d,g,m,v=h.slice(),w="undefined"==typeof t?"undefined":f(t),y=this,b=0;for("object"!==w&&"string"!==w&&(o=t,t=null),o&&"function"!=typeof o&&(o=p.parse),t=r(t),c=n(e||""),a=!c.protocol&&!c.slashes,y.slashes=c.slashes||a&&t.slashes,y.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(v[2]=[/(.*)/,"pathname"]);b<v.length;b++)d=v[b],l=d[0],m=d[1],l!==l?y[m]=e:"string"==typeof l?~(g=e.indexOf(l))&&("number"==typeof d[2]?(y[m]=e.slice(0,g),e=e.slice(g+d[2])):(y[m]=e.slice(g),e=e.slice(0,g))):(g=l.exec(e))&&(y[m]=g[1],e=e.slice(0,g.index)),y[m]=y[m]||(a&&d[3]?t[m]||"":""),d[4]&&(y[m]=y[m].toLowerCase());o&&(y.query=o(y.query)),a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=i(y.pathname,t.pathname)),u(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(d=y.auth.split(":"),y.username=d[0]||"",y.password=d[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function a(e,t,o){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||p.parse)(t)),r[e]=t;break;case"port":r[e]=t,u(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!o;break;case"pathname":case"hash":if(t){var n="pathname"===e?"/":"#";r[e]=t.charAt(0)!==n?n+t:t}else r[e]=t;break;default:r[e]=t}for(var i=0;i<h.length;i++){var s=h[i];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function c(e){e&&"function"==typeof e||(e=p.stringify);var t,o=this,r=o.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var n=r+(o.slashes?"//":"");return o.username&&(n+=o.username,o.password&&(n+=":"+o.password),n+="@"),n+=o.host+o.pathname,t="object"===f(o.query)?e(o.query):o.query,t&&(n+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(n+=o.hash),n}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=o(6),p=o(7),l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,d=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};s.prototype={set:a,toString:c},s.extractProtocol=n,s.location=r,s.qs=p,e.exports=s}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t){"use strict";function o(e){return decodeURIComponent(e.replace(/\+/g," "))}function r(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),s=o(t[2]);i in n||(n[i]=s)}return n}function n(e,t){t=t||"";var o=[];"string"!=typeof t&&(t="?");for(var r in e)i.call(e,r)&&o.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return o.length?t+o.join("&"):""}var i=Object.prototype.hasOwnProperty;t.stringify=n,t.parse=r},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var i=o(1),s=r(i),a=o(9),c=r(a),f=o(10),u=r(f),p=o(2),l=r(p),d=function(){function e(){if(n(this,e),this.fingerPrinting=new u["default"],this.fingerPrinting.createPrinting(),c["default"].getCookie("buvid3"))this.sendPV();else{var t={mid:c["default"].getCookie("mid"),fts:c["default"].getCookie("fts"),url:encodeURIComponent(window.location.href),proid:3,ptype:2,module:"game",title:document.title,ajaxtag:"",ajaxid:"",page_ref:document.referrer?encodeURIComponent(document.referrer):""},o="";for(var r in t)o+=r+"="+t[r]+"&";o=o.substring(0,o.length-1);var i=this;l["default"].sendGetRequest("//data.bilibili.com/v/web/web_page_view",o,function(){i.sendPV()})}}return e.prototype.sendPV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.todo(e,t)},e.prototype.todo=function(e,t){var o={};if(localStorage&&localStorage.index_user_setting){var r=JSON.parse(localStorage.index_user_setting).sort;o.msg=JSON.stringify({sort:r})}else window.bsource&&(o.msg=window.bsource);e&&(o.refer_url=e),t&&(o.msg=t),o.url=encodeURIComponent(window.location.href),o.timestamp=(new Date).getTime();var n={type:"pv",obj:o};s["default"].receiveMsg(n)},e}();t["default"]=d},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var r=function(){function e(){o(this,e),this.initBrowserVersion()}return e.prototype.isMobileSafari=function(){var e=navigator.userAgent;return!(!/ OS \d/.test(e)||~e.indexOf("CriOS")||e.indexOf("Mozilla")||!/Safari\/[\d\.]+$/.test(e))},e.prototype.initBrowserVersion=function(){var e=this;this.browser={version:function(){var t=navigator.userAgent;navigator.appVersion;return{mobile:/AppleWebKit.*Mobile.*/i.test(t),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t),android:/Android/i.test(t)||/Linux/i.test(t),windowsphone:/Windows Phone/i.test(t),iPhone:/iPhone/i.test(t),iPad:/iPad/i.test(t),webApp:!/Safari/i.test(t),MicroMessenger:/MicroMessenger/i.test(t),weibo:/Weibo/i.test(t),uc:/UCBrowser/i.test(t),qq:/MQQBrowser/i.test(t),baidu:/Baidu/i.test(t),mqq:/QQ\/([\d\.]+)/i.test(t),mbaidu:/baiduboxapp/i.test(t),iqiyi:/iqiyi/i.test(t),QQLive:/QQLive/i.test(t),Safari:e.isMobileSafari(),Youku:/youku/i.test(t),chrome:/CriOS/i.test(t),CMDC:/CMDC/i.test(t),xiaomiqjs:/MiuiQuickSearchBox/.test(t),baiduspider:/Baiduspider/.test(t)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()}},e.prototype.getCookie=function(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null},e.prototype.setCookie=function(e,t){var o=new Date;o.setTime(o.getTime()+3e5),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()+";domain=.bilibili.com;path=/"},e.prototype.getURLlist=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null},e.prototype.identify=function(){var e,t=this.getURLlist("bsource")?this.getURLlist("bsource").toLowerCase():"";if(t)e=t;else if(document.referrer&&/(.)*((baike.so.com)|(m.so.com)|(m.image.so.com)|(m.video.so.com)|(www.so.com)|(\.baidu.com)|(\.google.com)|(\.sm.cn)|(m.soso.com)|(www.soso.com)|(\.sogou.com)|(\.bing.com))/.test(document.referrer)){var o=document.referrer;/(.)*((baike.so.com)|(m.image.so.com)|(m.so.com)|(m.video.so.com)|(www.so.com))/.test(o)?e="seo_360":/(.)*\.baidu.com/.test(o)?e="seo_baidu":/(.)*\.google.com/.test(o)?e="seo_google":/(.)*\.sm.cn/.test(o)?e="seo_sm":/(.)*((m.soso.com)|(www.soso.com)|(\.sogou.com))/.test(o)?e="seo_sougo":/(.)*\.bing.com/.test(o)&&(e="seo_bing")}else this.getCookie("bsource")?e=this.getCookie("bsource"):this.browser.version.baiduspider?e="baiduspider":this.browser.version.QQLive?e="qqlive":this.browser.version.mqq?e="qq":this.browser.version.weibo?e="weibo":this.browser.version.MicroMessenger?e="wechat":this.browser.version.mbaidu?e="bdbox":this.browser.version.iqiyi?e="iqiyi_video_app":this.browser.version.qq?e="qqbrowser_app":this.browser.version.uc?e="uc_browser_app":this.browser.version.xiaomiqjs&&(e="xiaomiqjs");return e},e}();t["default"]=new r},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var r=function(){function e(){o(this,e)}return e.prototype.setCookie=function(e,t){var o=30,r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()+";domain=.bilibili.com;path=/"},e.prototype.bin2hex=function(e){var t,o,r,n="";for(e+="",t=0,o=e.length;t<o;t++)r=e.charCodeAt(t).toString(16),n+=r.length<2?"0"+r:r;return n},e.prototype.getCookie=function(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null},e.prototype.createPrinting=function(){var e=this.getCookie("finger");if(!e)try{var t=document.createElement("canvas"),o=t.getContext("2d"),r="i am the finger-printing in this broswer";o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="tencent",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(r,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(r,4,17);var n=t.toDataURL().replace("data:image/png;base64,",""),i=atob(n),s=this.bin2hex(i.slice(-16,-12));this.setCookie("finger",s)}catch(a){}},e}();t["default"]=r},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}t.__esModule=!0;var i=o(1),s=(r(i),function(){function e(t){n(this,e),this.interval=t,this.timer,this.loop=0,this.registerArr=[],this.startTimer()}return e.prototype.register=function(e,t,o){var r={};r.obj=e,r.method=t,r.freq=o,this.registerArr.push(r)},e.prototype.startTimer=function(){var e=this;this.timer=setInterval(function(){e.loop++;for(var t=e.registerArr,o=Array.isArray(t),r=0,t=o?t:t[Symbol.iterator]();;){var n;if(o){if(r>=t.length)break;n=t[r++]}else{if(r=t.next(),r.done)break;n=r.value}var i=n;e.loop%i.freq!==0||i.obj.stopCheck||i.method.call(i.obj)}},e.interval)},e.prototype.unregister=function(e,t){for(var o=0;o<this.registerArr.length;o++)if(this.registerArr[o].obj===e&&this.registerArr[o].method===t){this.registerArr.splice(o,1);break}},e.prototype.stopTimer=function(){clearInterval(this.timer)},e}());t["default"]=s},function(e,t){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"performance"in window&&window.performance&&window.performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(300)}]);